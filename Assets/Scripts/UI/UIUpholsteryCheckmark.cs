using UnityEngine;
using UnityEngine.UI;

public class UIUpholsteryCheckmark : MonoBehaviour
{
	private Globals.Upholstery upholstery;
	private Image thisImage;

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Awake()
	{
		UpholsteryButtonController ubc = GetComponentInParent<UpholsteryButtonController>();
		upholstery = ubc.upholstery;
		thisImage = GetComponent<Image>();
		Messenger.AddListener(MessengerEventsEnum.CHANGE_INT_UPHOLSTERY, OnChange);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Start()
	{
		OnChange();
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void OnDestroy()
	{
		Messenger.RemoveListener(MessengerEventsEnum.CHANGE_INT_UPHOLSTERY, OnChange);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void OnChange()
	{
		thisImage.enabled = (Globals.instance.currentUpholstery == upholstery) ? true : false;
	}
}
