using UnityEngine;
using UnityEngine.UI;

public class UITiresCheckmark : MonoBehaviour
{
	private Globals.Tires tires;
	private Image thisImage;

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Awake()
	{
		TiresButtonController tbc = GetComponentInParent<TiresButtonController>();
		tires = tbc.tires;
		thisImage = GetComponent<Image>();
		Messenger.AddListener(MessengerEventsEnum.CHANGE_EXT_TIRES, OnChange);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Start()
	{
		OnChange();
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void OnDestroy()
	{
		Messenger.RemoveListener(MessengerEventsEnum.CHANGE_EXT_TIRES, OnChange);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void OnChange()
	{
		thisImage.enabled = (Globals.instance.currentTires == tires) ? true : false;
	}
}
