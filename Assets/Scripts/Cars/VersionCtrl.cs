using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class VersionCtrl : MonoBehaviour
{
	public Globals.Version version;

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Awake()
	{
		Messenger.AddListener(MessengerEventsEnum.CHANGE_VERSION, OnChangeVersion);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Start()
	{
		OnChangeVersion();
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void OnDestroy()
	{
		Messenger.RemoveListener(MessengerEventsEnum.CHANGE_VERSION, OnChangeVersion);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	void OnChangeVersion()
	{
		foreach(Transform child in transform){
			child.gameObject.SetActive(version == Globals.instance.currentVersion);
		}
	}
}