using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class TiresController : MonoBehaviour
{
	public Globals.Tires tire;

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Awake()
	{
		Messenger.AddListener(MessengerEventsEnum.CHANGE_EXT_TIRES, OnTiresChanged);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void Start()
	{
		OnTiresChanged();
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	void OnDestroy()
	{
		Messenger.RemoveListener(MessengerEventsEnum.CHANGE_EXT_TIRES, OnTiresChanged);
	}

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	void OnTiresChanged()
	{
		foreach(Transform child in transform){
			child.gameObject.SetActive(Globals.instance.currentTires == tire);
		}
	}
}